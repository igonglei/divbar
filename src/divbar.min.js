!function(t,o,r){"use strict";var i={borderColor:"#2D4A34",borderWidth:1,borderStyle:"solid",margin:2,divs:15,color:["#486F14,#8EC63F,47%","#539102,#8DC53E,14%","#D9B404,#FFA800,14%","#D64C01,#D84C00,25%"],value:0,animation:!0,duration:100,beat:3,beatDuration:100},n={name:"divbar",init:function(o){for(var r=t(o.dom),i=o.options,n=i.divs,e=i.margin,a=r.height()/n-e,s=0;s<n;s++)r.append("<div></div>");var c=r.children();c.css({"border-color":i.borderColor,"border-width":i.borderWidth,"border-style":i.borderStyle,height:a,"margin-bottom":e}),this.fillColor(o,c,i)},fillColor:function(t,o,r){for(var i=this,n=r.divs,e=Math.ceil(r.value*n),a=this.getColor(r.color,n),s=r.animation,c=r.duration,d=function(t){o.eq(n-t-1).css(a[t])},u=function(){i.beat(t,o,e,a)},h=0;h<e;h++)s?function(t){setTimeout(function(){d(t)},c*t)}(h):d(h);s?setTimeout(u,c*e):u()},getColor:function(o,r){var i=this,n=[];return t.each(o,function(t,o){for(var e=o.split(","),a=e[0],s=e[1],c=Math.round(i.parsePercent(e[2])*r),d=0;d<c;d++)n.push({"background-color":a,"border-color":s})}),n},parsePercent:function(t){return t.replace(/%$/g,"")/100},beat:function(t,o,r,i){var n=t.options,e=n.beat;if(!(e<=0)){var a=n.divs,s=Math.max(0,r-e-1),c=Math.min(a,r+e),d=r,u=!0,h={"background-color":"","border-color":n.borderColor};t.interval=setInterval(function(){d===c?(u=!1,d--):d===s&&(u=!0,d++);var t=u?i[d]||{}:h;o.eq(a-d-1).css(t),u?d++:d--},n.beatDuration)}}},e=function(o,r){this.dom=o,this.options=t.extend({},i,r),this.init()};e.prototype={constructor:e,init:function(){n.init(this)}},o.divbar=e,t.fn.divbar=function(o,r){return"string"==typeof o?t.fn.divbar.methods[o](this[0],r):this.each(function(){var r=new e(this,o);return t.data(this,n.name,r),r})},t.fn.divbar.methods={instance:function(o){return t.data(o,n.name)},options:function(t){return this.instance(t).options}}}(jQuery,window);